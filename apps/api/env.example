NODE_ENV=development
PORT=4000
LOG_LEVEL=debug
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/vett
REDIS_URL=redis://localhost:6379

# --- Authentication ---
# Clerk.dev secret key (get from https://dashboard.clerk.com)
CLERK_SECRET_KEY=
#
# Optional: Clerk JWT public key (PEM) for verifying JWT template tokens.
# If your mobile app sets EXPO_PUBLIC_CLERK_JWT_TEMPLATE, you may need this in the API.
# Find it in Clerk Dashboard → JWT Templates → "Public key".
# NOTE: This is multi-line PEM. Your platform may require either:
# - a multiline env var (preferred), or
# - a single line with literal "\n" newlines.
# CLERK_JWT_KEY=-----BEGIN PUBLIC KEY-----\n...\n-----END PUBLIC KEY-----

# --- Rate Limiting ---
# Enable/disable rate limiting (default: true)
RATE_LIMIT_ENABLED=true
# Global rate limit for authenticated users (default: 1000 requests per window)
RATE_LIMIT_GLOBAL_MAX=1000
# Rate limit window (default: "15 minutes")
RATE_LIMIT_GLOBAL_WINDOW=15 minutes
# Rate limit for anonymous/unauthenticated users (default: 100 requests per window)
RATE_LIMIT_ANONYMOUS_MAX=100
# Rate limit for GraphQL mutations (default: 50 mutations per window)
RATE_LIMIT_MUTATION_MAX=50
# Rate limit for file uploads (default: 20 uploads per window)
RATE_LIMIT_UPLOAD_MAX=20

# --- External API keys ---
# OpenAI (GPT-5 / GPT-4.1 for classification, claim extraction, reasoning)
OPENAI_API_KEY=

# Perplexity AI (Real-time web search and citations for Vett Chat and fact verification)
# Get from https://www.perplexity.ai/settings/api
PERPLEXITY_API_KEY=

# Anthropic (Claude models for consensus/fallback reasoning)
ANTHROPIC_API_KEY=

# Pinecone (vector search for claim caching / semantic retrieval)
PINECONE_API_KEY=

# --- RevenueCat (optional; required only if you want webhook + server-side sync) ---
# Secret API key from RevenueCat Dashboard → Project Settings → API Keys → "Secret API keys"
REVENUECAT_API_KEY=
# Webhook secret from RevenueCat Dashboard → Project Settings → Webhooks (optional in dev)
REVENUECAT_WEBHOOK_SECRET=

# --- Production Configuration ---
# Comma-separated list of allowed CORS origins (production only)
# Leave empty in development (allows all origins)
# Example: ALLOWED_ORIGINS=https://yourdomain.com,https://app.yourdomain.com,https://web.yourdomain.com
# Note: Mobile apps (React Native/Expo) don't send origin headers, so they're allowed by default
ALLOWED_ORIGINS=

# --- Instagram API Configuration ---
# Instagram/Meta API credentials for DM bot
# Get from https://developers.facebook.com/
INSTAGRAM_APP_ID=
INSTAGRAM_APP_SECRET=
INSTAGRAM_WEBHOOK_VERIFY_TOKEN=
INSTAGRAM_PAGE_ACCESS_TOKEN=
INSTAGRAM_PAGE_ID=

# --- Base URLs ---
# Base URL for the mobile app (used in Instagram DM responses)
APP_BASE_URL=https://app.vett.xyz
# Base URL for the API (used for API references if needed)
API_BASE_URL=https://api.vett.xyz

# --- Error Tracking (Sentry) ---
# Sentry DSN for error tracking (optional but recommended for production)
# Get from https://sentry.io/settings/[org]/projects/[project]/keys/
# SENTRY_DSN=https://xxx@xxx.ingest.sentry.io/xxx
# SENTRY_ENVIRONMENT=production
# SENTRY_TRACES_SAMPLE_RATE=0.1  # 10% of transactions (0.0 to 1.0)

